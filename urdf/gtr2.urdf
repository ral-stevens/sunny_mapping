<?xml version="1.0" encoding="utf-8"?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from /home/ral2020/catkin_ws/src/gait_training_robot/urdf/gtr2.urdf.xacro | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="gtr2" xmlns:controller="http://playerstage.sourceforge.net/gazebo/xmlschema/#controller" xmlns:interface="http://playerstage.sourceforge.net/gazebo/xmlschema/#interface" xmlns:sensor="http://playerstage.sourceforge.net/gazebo/xmlschema/#sensor">
  <joint name="base_camera_mount_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0.7"/>
    <parent link="base_link"/>
    <child link="camera_mount_top"/>
  </joint>
  <material name="camera_mount_gray">
    <color rgba="0.4 0.4 0.4 1"/>
  </material>
  <link name="camera_mount_left">
    <visual>
      <origin xyz="0. -0.15 -0.24"/>
      <geometry>
        <box size="0.02 0.005 0.48"/>
      </geometry>
      <material name="camera_mount_gray"/>
    </visual>
  </link>
  <link name="camera_mount_right">
    <visual>
      <origin xyz="0. 0.15 -0.24"/>
      <geometry>
        <box size="0.02 0.005 0.48"/>
      </geometry>
      <material name="camera_mount_gray"/>
    </visual>
  </link>
  <link name="camera_mount_top">
    <visual>
      <origin xyz="0. 0. 0."/>
      <geometry>
        <box size="0.02 0.3 0.003"/>
      </geometry>
      <material name="camera_mount_gray"/>
    </visual>
  </link>
  <joint name="camera_mount_top_to_left" type="fixed">
    <parent link="camera_mount_top"/>
    <child link="camera_mount_left"/>
    <origin rpy="0. 0. 0." xyz="-0. 0. 0."/>
  </joint>
  <joint name="camera_mount_top_to_right" type="fixed">
    <parent link="camera_mount_top"/>
    <child link="camera_mount_right"/>
    <origin rpy="0. 0. 0." xyz="0. 0. 0."/>
  </joint>
  <joint name="base_rear_kinect_base_joint" type="fixed">
    <origin rpy="0 -0.0225 3.1416" xyz="-0.028 0.023 0.01"/>
    <parent link="camera_mount_top"/>
    <child link="rear_kinect_base"/>
  </joint>
  <material name="black">
    <color rgba="0. 0. 0. 1"/>
  </material>
  <material name="dark_grey">
    <color rgba="0.1 0.1 0.1 1"/>
  </material>
  <material name="grey">
    <color rgba="0.6 0.6 0.6 1"/>
  </material>
  <material name="white">
    <color rgba="0.9 0.9 0.9 1"/>
  </material>
  <link name="rear_kinect_body">
    <visual>
      <origin xyz="0. 0. 0."/>
      <geometry>
        <box size="0.0994 0.0996 0.023"/>
      </geometry>
      <material name="white"/>
    </visual>
  </link>
  <link name="rear_kinect_base">
    <visual>
      <origin xyz="-0.013 0. 0."/>
      <geometry>
        <box size="0.026 0.103 0.039"/>
      </geometry>
      <material name="grey"/>
    </visual>
  </link>
  <link name="rear_kinect_visor">
    <visual>
      <origin xyz="-0.0128 0. 0."/>
      <geometry>
        <box size="0.026 0.101 0.037"/>
      </geometry>
      <material name="black"/>
    </visual>
  </link>
  <joint name="rear_kinect_base_to_body" type="fixed">
    <parent link="rear_kinect_base"/>
    <child link="rear_kinect_body"/>
    <origin rpy="0. 0. 0." xyz="-0.0757 0. 0.008"/>
  </joint>
  <joint name="rear_kinect_base_to_visor" type="fixed">
    <parent link="rear_kinect_base"/>
    <child link="rear_kinect_visor"/>
    <origin rpy="0. 0. 0." xyz="0. 0. 0."/>
  </joint>
  <joint name="camera_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0.15 0.02 0.27"/>
    <parent link="base_link"/>
    <child link="camera_link"/>
  </joint>
  <link name="camera_link">
    <visual>
      <!-- NOTE: I (Georg Bartels) put these to be visually pleasing with our calibration
                    on February 11th, 2015. They are not set in stone! If the calibration
                    changes you might have to touch them again. Sorry! -->
      <origin rpy="1.570795 0 1.570795" xyz="-0.05 -0.17 -0.02"/>
      <geometry>
        <mesh filename="package://gait_training_robot/meshes/68-04546_Kinect_Sensor--coarse.STL" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="gray">
        <color rgba="0.5 0.5 0.5 1"/>
      </material>
    </visual>
  </link>
  <!-- NOTE: I (Zhuo Chen) added some dark cyclinders to highlight the orientation the Kinect! -->
  <material name="lens_color">
    <color rgba="0.1 0.1 0.1 1"/>
  </material>
  <!-- lens1 -->
  <link name="camera_lens1_link">
    <visual>
      <origin rpy="1.570795 0 1.570795" xyz="0. 0. -0.02"/>
      <geometry>
        <cylinder length="0.005" radius="0.01"/>
      </geometry>
      <material name="lens_color">
        <color rgba="0.5 0.5 0.5 1"/>
      </material>
    </visual>
  </link>
  <joint name="camera_lens1_joint" type="fixed">
    <origin rpy="0.0 0.0 0.0" xyz="0.010 -0.02 0.02"/>
    <parent link="camera_link"/>
    <child link="camera_lens1_link"/>
  </joint>
  <!-- lens2 -->
  <link name="camera_lens2_link">
    <visual>
      <origin rpy="1.570795 0 1.570795" xyz="0. 0. -0.02"/>
      <geometry>
        <cylinder length="0.005" radius="0.01"/>
      </geometry>
      <material name="lens_color">
        <color rgba="0.5 0.5 0.5 1"/>
      </material>
    </visual>
  </link>
  <joint name="camera_lens2_joint" type="fixed">
    <origin rpy="0.0 0.0 0.0" xyz="0.010 -0.045 0.02"/>
    <parent link="camera_link"/>
    <child link="camera_lens2_link"/>
  </joint>
  <!-- lens3 -->
  <link name="camera_lens3_link">
    <visual>
      <origin rpy="1.570795 0 1.570795" xyz="0. 0. -0.02"/>
      <geometry>
        <cylinder length="0.005" radius="0.01"/>
      </geometry>
      <material name="lens_color">
        <color rgba="0.5 0.5 0.5 1"/>
      </material>
    </visual>
  </link>
  <joint name="camera_lens3_joint" type="fixed">
    <origin rpy="0.0 0.0 0.0" xyz="0.010 -0.095 0.02"/>
    <parent link="camera_link"/>
    <child link="camera_lens3_link"/>
  </joint>
  <!--<joint name="${name}_rgb_joint" type="fixed">
      <origin xyz="0.0 -0.045 0.0" rpy="0.0 0.0 0.0"/>
      <parent link="${name}_link"/>
      <child link="${name}_rgb_frame"/>
    </joint>
    
    <link name="${name}_rgb_frame"/>
    
    <joint name="${name}_rgb_optical_joint" type="fixed">
      <origin xyz="0.0 0.0 0.0" rpy="${-M_PI/2.0} 0.0 ${-M_PI/2.0}"/>
      <parent link="${name}_rgb_frame"/>
      <child link="${name}_rgb_optical_frame"/>
    </joint>
    
    <link name="${name}_rgb_optical_frame"/>
    
    <joint name="${name}_depth_joint" type="fixed">
      <origin xyz="0.0 -0.02 0.0" rpy="0.0 0.0 0.0"/>
      <parent link="${name}_link"/>
      <child link="${name}_depth_frame"/>
    </joint>
    
    <link name="${name}_depth_frame"/>
    
    <joint name="${name}_depth_optical_joint" type="fixed">
      <origin xyz="0.0 0.0 0.0" rpy="${-M_PI/2.0} 0.0 ${-M_PI/2.0}"/>
      <parent link="${name}_depth_frame"/>
      <child link="${name}_depth_optical_frame"/>
    </joint>
    
    <link name="${name}_depth_optical_frame"/>-->
  <!-- Chassis -->
  <link name="base_link">
    <inertial>
      <mass value="3.5"/>
      <!--<origin xyz="-0.025 0 -0.223"/>-->
      <origin xyz="0 0 0"/>
      <inertia ixx="1" ixy="0" ixz="0" iyy="1" iyz="0" izz="1"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="-0.045 0 0.148"/>
      <geometry name="pioneer_geom">
        <mesh filename="package://gait_training_robot/meshes/p3dx_meshes/chassis.stl"/>
      </geometry>
      <material name="ChassisRed">
        <color rgba="0.851 0.0 0.0 1.0"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.01 0.01 0.01"/>
      </geometry>
    </collision>
  </link>
  <link name="top_plate">
    <inertial>
      <mass value="0.01"/>
      <origin xyz="0 0 0"/>
      <inertia ixx="1" ixy="0" ixz="0" iyy="1" iyz="0" izz="1"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry name="pioneer_geom">
        <mesh filename="package://gait_training_robot/meshes/p3dx_meshes/top.stl"/>
      </geometry>
      <material name="TopBlack">
        <color rgba="0.038 0.038 0.038 1.0"/>
      </material>
    </visual>
  </link>
  <gazebo reference="top_plate">
    <!-- material value="Gazebo/Black"/ -->
    <material>Gazebo/Black</material>
  </gazebo>
  <joint name="base_top_joint" type="fixed">
    <origin rpy="0 0 0" xyz="-0.045 0 0.234"/>
    <axis xzy="0 0 1"/>
    <parent link="base_link"/>
    <child link="top_plate"/>
  </joint>
  <link name="front_sonar">
    <inertial>
      <mass value="0.0001"/>
      <origin xyz="0 0 0"/>
      <inertia ixx="1" ixy="0" ixz="0" iyy="1" iyz="0" izz="1"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry name="pioneer_geom">
        <mesh filename="package://gait_training_robot/meshes/p3dx_meshes/front_sonar.stl"/>
      </geometry>
      <material name="SonarYellow">
        <color rgba="0.715 0.583 0.210 1.0"/>
      </material>
    </visual>
  </link>
  <gazebo reference="front_sonar">
    <material value="Gazebo/Yellow"/>
  </gazebo>
  <joint name="base_front_joint" type="fixed">
    <origin rpy="0 0 0" xyz="-0.198 0 0.208"/>
    <parent link="base_link"/>
    <child link="front_sonar"/>
  </joint>
  <joint name="base_back_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0.109 0 0.209"/>
    <parent link="base_link"/>
    <child link="back_sonar"/>
  </joint>
  <link name="back_sonar">
    <inertial>
      <mass value="0"/>
      <origin xyz="0 0 0"/>
      <inertia ixx="1" ixy="0" ixz="0" iyy="1" iyz="0" izz="1"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry name="pioneer_geom">
        <mesh filename="package://gait_training_robot/meshes/p3dx_meshes/back_sonar.stl"/>
      </geometry>
      <material name="SonarYellow">
        <color rgba="0.715 0.583 0.210 1.0"/>
      </material>
    </visual>
  </link>
  <!-- Caster -->
  <joint name="base_caster_swivel_joint" type="continuous">
    <origin rpy="0 0 0" xyz="-0.185 0 0.055"/>
    <axis xyz="0 0 1"/>
    <anchor xyz="0 0 0"/>
    <limit effort="100" k_velocity="0" velocity="100"/>
    <joint_properties damping="0.0" friction="0.0"/>
    <parent link="base_link"/>
    <child link="caster_swivel"/>
  </joint>
  <link name="caster_swivel">
    <inertial>
      <mass value="0.1"/>
      <origin xyz="0 0 0"/>
      <inertia ixx="0.01" ixy="0" ixz="0" iyy="0.01" iyz="0" izz="0.01"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry name="pioneer_geom">
        <mesh filename="package://gait_training_robot/meshes/p3dx_meshes/caster_swivel.stl"/>
      </geometry>
      <material name="caster_swivel">
        <color rgba="0.5 0.5 0.5 1"/>
      </material>
    </visual>
  </link>
  <gazebo reference="caster_swivel">
    <material value="Gazebo/Grey"/>
  </gazebo>
  <!-- Center Wheel + Hubcap -->
  <link name="caster_hubcap">
    <inertial>
      <mass value="0.01"/>
      <origin xyz="0 0 0"/>
      <inertia ixx="0.012411765597" ixy="-0.000711733678" ixz="0.00050272983" iyy="0.015218160428" iyz="-0.000004273467" izz="0.011763977943"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry name="pioneer_geom">
        <mesh filename="package://gait_training_robot/meshes/p3dx_meshes/caster_hubcap.stl"/>
      </geometry>
      <material name="caster_swivel">
        <color rgba="0.5 0.5 0.5 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.05 0.05 0.05"/>
      </geometry>
    </collision>
  </link>
  <gazebo reference="caster_hubcap">
    <material value="Gazebo/Grey"/>
  </gazebo>
  <joint name="caster_swivel_hubcap_joint" type="continuous">
    <origin rpy="0 0 0" xyz="-0.026 0 -0.016"/>
    <axis xyz="0 1 0"/>
    <anchor xyz="0 0 0"/>
    <limit effort="100" k_velocity="0" velocity="100"/>
    <joint_properties damping="0.0" friction="0.0"/>
    <parent link="caster_swivel"/>
    <child link="caster_wheel"/>
  </joint>
  <link name="caster_wheel">
    <inertial>
      <mass value="0.1"/>
      <origin xyz="0 0 0"/>
      <inertia ixx="0.012411765597" ixy="-0.000711733678" ixz="0.00050272983" iyy="0.015218160428" iyz="-0.000004273467" izz="0.011763977943"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry name="pioneer_geom">
        <mesh filename="package://gait_training_robot/meshes/p3dx_meshes/caster_wheel.stl"/>
      </geometry>
      <material name="WheelBlack">
        <color rgba="0.117 0.117 0.117 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="-1.57079635 0 0" xyz="0 0 0"/>
      <geometry>
        <!--<mesh filename="package://gait_training_robot/meshes/p3dx_meshes/caster_wheel.stl"/>-->
        <cylinder length="0.01" radius="0.0375"/>
      </geometry>
    </collision>
  </link>
  <gazebo reference="left_hub">
    <material value="Gazebo/Yellow"/>
  </gazebo>
  <joint name="caster_wheel_joint" type="fixed">
    <origin rpy="0 0 0" xyz="-0.0035 0 -0.001"/>
    <parent link="caster_wheel"/>
    <child link="caster_hubcap"/>
  </joint>
  <link name="left_hub">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://gait_training_robot/meshes/p3dx_meshes/left_hubcap.stl"/>
      </geometry>
      <material name="HubcapYellow">
        <color rgba="1.0 0.811 0.151 1.0"/>
      </material>
    </visual>
    <collision>
      <origin rpy="-1.57079635 0 0" xyz="0 0 0"/>
      <geometry>
        <!--<mesh filename="package://gait_training_robot/meshes/p3dx_meshes/caster_wheel.stl"/>-->
        <cylinder length="0.01" radius="0.09"/>
      </geometry>
    </collision>
  </link>
  <joint name="left_hub_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0 0.15 0.08"/>
    <parent link="base_link"/>
    <child link="left_hub"/>
    <axis xyz="0 1 0"/>
  </joint>
  <link name="left_wheel">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://gait_training_robot/meshes/p3dx_meshes/left_wheel.stl"/>
      </geometry>
      <material name="WheelBlack">
        <color rgba="0.117 0.117 0.117 1"/>
      </material>
    </visual>
  </link>
  <joint name="left_wheel_joint" type="fixed">
    <!-- type="continuous" -->
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <parent link="left_hub"/>
    <child link="left_wheel"/>
  </joint>
  <gazebo reference="left_wheel_joint">
    <material value="Gazebo/Black"/>
  </gazebo>
  <link name="right_hub">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://gait_training_robot/meshes/p3dx_meshes/right_hubcap.stl"/>
      </geometry>
      <material name="HubcapYellow">
        <color rgba="1.0 0.811 0.151 1.0"/>
      </material>
    </visual>
    <collision>
      <origin rpy="-1.57079635 0 0" xyz="0 0 0"/>
      <geometry>
        <!--<mesh filename="package://gait_training_robot/meshes/p3dx_meshes/caster_wheel.stl"/>-->
        <cylinder length="0.01" radius="0.09"/>
      </geometry>
    </collision>
  </link>
  <gazebo reference="right_hub">
    <material value="Gazebo/Yellow"/>
  </gazebo>
  <joint name="right_hub_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0 -0.15 0.08"/>
    <parent link="base_link"/>
    <child link="right_hub"/>
    <axis xyz="0 1 0"/>
  </joint>
  <link name="right_wheel">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://gait_training_robot/meshes/p3dx_meshes/right_wheel.stl"/>
      </geometry>
      <material name="WheelBlack">
        <color rgba="0.117 0.117 0.117 1"/>
      </material>
    </visual>
  </link>
  <joint name="right_wheel_joint" type="fixed">
    <!-- type="continuous" -->
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <parent link="right_hub"/>
    <child link="right_wheel"/>
  </joint>
  <gazebo reference="right_wheel_joint">
    <material value="Gazebo/Black"/>
  </gazebo>
  <create>
    <back_sonar parent="base_link"/>
    <top_plate parent="base_link"/>
  </create>
  <gazebo>
    <plugin filename="libgazebo_ros_diff_drive.so" name="differential_drive_controller">
      <alwaysOn>true</alwaysOn>
      <updateRate>100</updateRate>
      <leftJoint>left_wheel_joint</leftJoint>
      <rightJoint>right_wheel_joint</rightJoint>
      <wheelSeparation>0.158</wheelSeparation>
      <wheelDiameter>0.12</wheelDiameter>
      <torque>5</torque>
      <!-- interface:position name="position_iface_0"/ -->
      <commandTopic>cmd_vel</commandTopic>
      <robotBaseFrame>base_link</robotBaseFrame>
      <odometryTopic>odom</odometryTopic>
      <odometryFrame>odom</odometryFrame>
    </plugin>
    <!-- TODO include P3D (ground truth) plugin -->
    <!-- XXX old urdf included a gazebo_ros_controller_manager plugin with a 1 second update rate -->
  </gazebo>
</robot>
